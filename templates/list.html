{% extends "layout.html" %}

{%- block title -%}
        <title>WHYNOT</title>
{%- endblock -%}

{% block main %}
        <div class="news-list">
            {% for item in items %}
            <div class="news-item">
                <img
                    {% if let Some(promo_img) = item.promo_img -%}
                        src="{{ promo_img }}"
                    {% else -%}
                        src="/static/imgs/empty.png"
                    {% endif -%}

                    {% if let Some(caption) = item.caption -%}
                        alt="{{ caption }}" title="{{ caption }}"
                    {% endif -%}
                    class="promo-img" loading="lazy"
                />
                <div class="news-content">
                    <a href="{{ item.website_url }}" class="headline">{{ item.headlines }}</a>
                    <div class="date">{{ item.display_date }}
                        <a href="{{ item.section.0 }}" class="section-link">{{ item.section.1 }}</a>
                    </div>
                    <div class="description">{{ item.description }}</div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="pagination">
            {% if page < 1 %}
            <a class="page-btn prev" aria-disabled="true">Prev</a>
            {% else %}
            <a href="{{ url_path }}?page={{ page - 1}}" class="page-btn prev">Prev</a>
            {% endif %}
            <a href="{{ url_path }}?page={{ page + 1 }}" class="page-btn next"
                {%- if items.len() < 20 %} aria-disabled="true" {% endif -%} >Next</a>
        </div>

        <footer class="site-footer">
            <div class="footer-container">
                <p>
                    <a href="https://github.com/rfa-dev/whynot" target="_blank" rel="noopener noreferrer">
                        GitHub
                    </a>
                </p>
            </div>
        </footer>
{% endblock %}
